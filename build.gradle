plugins {
    id 'java'
    id 'org.springframework.boot' version '2.1.5.RELEASE'
    id "com.moowork.node" version "1.3.1"
}

node {
    version = "10.11.0"
    download = true
}

apply plugin: 'io.spring.dependency-management'

repositories {
    mavenCentral()
}

bootJar {
    archiveBaseName = 'application'
}

task tsc(type : NodeTask, dependsOn: 'npmInstall') {
    inputs.files 'src'
    script = file('node_modules/.bin/tsc')
    args = ["-p", "./tsconfig.json"]
}

dependencies {
    compile("org.springframework.boot:spring-boot-starter-web")
    compile("org.springframework.boot:spring-boot-starter-thymeleaf")
}

